<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - BPS Provinsi Nusa Tenggara Timur</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }

        /* Admin Dashboard Styles */
        .admin-container {
            display: none;
            min-height: 100vh;
        }

        .admin-container.active {
            display: flex;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: #003D7A;
            color: white;
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

        .sidebar-header {
            padding: 25px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .sidebar-header h1 {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .sidebar-header p {
            font-size: 12px;
            color: #B0C4DE;
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
        }

        .nav-item {
            padding: 14px 25px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            background: rgba(255, 255, 255, 0.15);
            border-left: 4px solid #4FC3F7;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
        }

        .sidebar-footer {
            padding: 20px 25px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }


        /* Main Content */
        .main-content {
            margin-left: 280px;
            flex: 1;
            min-height: 100vh;
            background: #f5f5f5;
        }

        .topbar {
            background: white;
            padding: 20px 40px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .topbar h2 {
            color: #003D7A;
            font-size: 24px;
            font-weight: 700;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            color: #666;
            font-size: 14px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #003D7A;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .content-area {
            padding: 30px 40px;
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .stat-card h3 {
            color: #666;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 12px;
        }

        .stat-card .value {
            color: #003D7A;
            font-size: 32px;
            font-weight: 700;
        }

        .stat-card .icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
        }

        .icon-blue { background: rgba(0, 61, 122, 0.1); color: #003D7A; }
        .icon-green { background: rgba(76, 175, 80, 0.1); color: #4CAF50; }
        .icon-orange { background: rgba(255, 152, 0, 0.1); color: #FF9800; }
        .icon-purple { background: rgba(156, 39, 176, 0.1); color: #9C27B0; }

        /* Content Card */
        .content-card {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            margin-bottom: 25px;
        }

        .content-card h3 {
            color: #003D7A;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: #003D7A;
            color: white;
        }

        .btn-primary:hover {
            background: #002855;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn-success {
            background: #4CAF50;
            color: white;
        }

        .btn-success:hover {
            background: #45a049;
        }

        .btn-danger {
            background: #f44336;
            color: white;
        }

        .btn-danger:hover {
            background: #da190b;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }

        .data-table th,
        .data-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #f0f0f0;
        }

        .data-table th {
            background: #f8f9fa;
            color: #003D7A;
            font-weight: 600;
            font-size: 13px;
            text-transform: uppercase;
        }

        .data-table td {
            color: #333;
            font-size: 14px;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        /* Form Styles */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-field {
            display: flex;
            flex-direction: column;
        }

        .form-field label {
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            padding: 10px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 14px;
            font-family: 'Inter', sans-serif;
        }

        .form-field input:focus,
        .form-field select:focus,
        .form-field textarea:focus {
            outline: none;
            border-color: #003D7A;
        }

        .file-upload {
            border: 2px dashed #ddd;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .file-upload:hover {
            border-color: #003D7A;
            background: #f8f9fa;
        }

        .file-upload input[type="file"] {
            display: none;
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .notification.success {
            background: #4CAF50;
            color: white;
        }

        .notification.error {
            background: #f44336;
            color: white;
        }

        .notification.info {
            background: #2196F3;
            color: white;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 999;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-header h3 {
            color: #003D7A;
            font-size: 20px;
            font-weight: 600;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #999;
        }

        .close-modal:hover {
            color: #333;
        }

        /* Badge */
        .badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-success {
            background: #4CAF50;
            color: white;
        }

        .badge-warning {
            background: #FF9800;
            color: white;
        }

        .badge-info {
            background: #2196F3;
            color: white;
        }

        /* Chart Container */
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .chart-placeholder {
            height: 300px;
            background: #f5f5f5;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 0;
                transform: translateX(-280px);
            }

            .sidebar.mobile-open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .topbar {
                padding: 15px 20px;
            }

            .content-area {
                padding: 20px;
            }
        }

        /* Feedback Page Specific Styles */
        .feedback-table-wrapper {
            overflow-x: auto;
        }

        .data-table.feedback-table {
            width: 100%;
            table-layout: fixed;
        }

        .data-table.feedback-table th:first-child,
        .data-table.feedback-table td:first-child {
            width: 35px;
            text-align: center;
            padding: 12px 8px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(2),
        .data-table.feedback-table td:nth-child(2) {
            width: 110px;
            font-size: 13px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(3),
        .data-table.feedback-table td:nth-child(3) {
            width: 110px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(4),
        .data-table.feedback-table td:nth-child(4) {
            width: 180px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(5),
        .data-table.feedback-table td:nth-child(5) {
            width: 140px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(6),
        .data-table.feedback-table td:nth-child(6) {
            width: auto;
            min-width: 200px;
            vertical-align: middle;
        }

        .data-table.feedback-table th:nth-child(7) {
            width: 100px;
            text-align: center;
        }

        .data-table.feedback-table td:nth-child(7) {
            width: 100px;
            text-align: center;
            vertical-align: middle;
        }

        .data-table.feedback-table td:nth-child(7) .badge {
            display: inline-block;
        }

        .data-table.feedback-table th:nth-child(8) {
            width: 220px;
            text-align: left;
            padding-left: 15px;
        }

        .data-table.feedback-table td:nth-child(8) {
            width: 220px;
            text-align: left;
            padding: 12px 15px;
            vertical-align: middle;
        }

        .feedback-text-truncate {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: block;
        }

        .feedback-actions {
            display: flex;
            gap: 5px;
            justify-content: flex-start;
            flex-wrap: nowrap;
            align-items: center;
        }

        .feedback-actions .btn {
            padding: 6px 10px;
            font-size: 12px;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .feedback-header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .feedback-filter {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 13px;
            font-family: 'Inter', sans-serif;
            background: white;
            cursor: pointer;
            min-width: 140px;
        }

        .feedback-filter:focus {
            outline: none;
            border-color: #003D7A;
        }

        /* Compact stats for feedback */
        #feedbackPage .stats-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }

        /* Responsive adjustments for feedback */
        @media (max-width: 1400px) {
            .data-table.feedback-table th:nth-child(8),
            .data-table.feedback-table td:nth-child(8) {
                width: 200px;
            }
            
            .feedback-actions {
                flex-direction: column;
                gap: 4px;
                align-items: stretch;
            }
            
            .feedback-actions .btn {
                width: 100%;
            }
        }

        @media (max-width: 1200px) {
            #feedbackPage .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            #feedbackPage .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .feedback-header-actions {
                flex-direction: column;
                width: 100%;
            }
            
            .feedback-filter,
            .feedback-header-actions .btn {
                width: 100%;
            }
            
            .data-table.feedback-table {
                font-size: 12px;
            }
            
            .data-table.feedback-table th,
            .data-table.feedback-table td {
                padding: 10px 6px;
            }
            
            .feedback-actions .btn {
                font-size: 11px;
                padding: 5px 8px;
            }
        }

        /* Logout Button */
        .logout-btn {
            padding: 14px 25px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            font-weight: 500;
            color: white;
            background: rgba(244, 67, 54, 0.1);
            border: none;
            width: 100%;
            text-align: left;
            font-family: 'Inter', sans-serif;
        }

        .logout-btn:hover {
            background: rgba(244, 67, 54, 0.2);
            color: #ff5252;
        }

        .logout-btn svg {
            width: 20px;
            height: 20px;
        }

        .sidebar-footer {
            padding: 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Notification Toast -->
    <div id="notification" class="notification"></div>

    <!-- Admin Dashboard -->
    <div id="adminDashboard" class="admin-container active">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>Admin Dashboard</h1>
                <p>BPS Provinsi NTT</p>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item active" data-page="dashboard">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                    </svg>
                    Dashboard
                </div>
                <div class="nav-item" data-page="data">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"/>
                        <path d="M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"/>
                        <path d="M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z"/>
                    </svg>
                    Kelola Data
                </div>
                <div class="nav-item" data-page="visualization">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                    </svg>
                    Konfigurasi Visualisasi
                </div>
                <div class="nav-item" data-page="users">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                    </svg>
                    Kelola Akun
                </div>
                <div class="nav-item" data-page="feedback">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                        <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                    </svg>
                    Feedback
                </div>
                <div class="nav-item" data-page="monitoring">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"/>
                        <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"/>
                    </svg>
                    Monitoring Aktivitas
                </div>
            </nav>
            <div class="sidebar-footer">
                <button class="logout-btn" onclick="handleLogout()">
                    <svg fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z" clip-rule="evenodd"/>
                    </svg>
                    Keluar
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="topbar">
                <h2 id="pageTitle">Dashboard</h2>
                <div class="user-info">
                    <div class="user-avatar">AD</div>
                    <span id="userName">Admin BPS</span>
                </div>
            </div>

            <div class="content-area">
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page-section active">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="icon icon-blue">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z"/>
                                    <path d="M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z"/>
                                </svg>
                            </div>
                            <h3>Total Dataset</h3>
                            <div class="value">245</div>
                        </div>
                        <div class="stat-card">
                            <div class="icon icon-green">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>
                                </svg>
                            </div>
                            <h3>Visualisasi Aktif</h3>
                            <div class="value">12</div>
                        </div>
                        <div class="stat-card">
                            <div class="icon icon-orange">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0z"/>
                                </svg>
                            </div>
                            <h3>Total Admin</h3>
                            <div class="value">8</div>
                        </div>
                        <div class="stat-card">
                            <div class="icon icon-purple">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
                                    <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10z"/>
                                </svg>
                            </div>
                            <h3>Kunjungan Hari Ini</h3>
                            <div class="value">1,234</div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3>Update Data Terbaru</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Indikator</th>
                                    <th>Terakhir Update</th>
                                    <th>Sumber</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Inflasi (IHK)</td>
                                    <td>13 Oktober 2025</td>
                                    <td>API BPS</td>
                                    <td><span class="badge badge-success">Aktif</span></td>
                                </tr>
                                <tr>
                                    <td>Nilai Tukar Petani</td>
                                    <td>12 Oktober 2025</td>
                                    <td>API BPS</td>
                                    <td><span class="badge badge-success">Aktif</span></td>
                                </tr>
                                <tr>
                                    <td>Pertumbuhan Ekonomi</td>
                                    <td>10 Oktober 2025</td>
                                    <td>Manual</td>
                                    <td><span class="badge badge-info">Manual</span></td>
                                </tr>
                                <tr>
                                    <td>Indeks Pembangunan Manusia</td>
                                    <td>08 Oktober 2025</td>
                                    <td>API BPS</td>
                                    <td><span class="badge badge-success">Aktif</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Data Management Page -->
                <div id="dataPage" class="page-section">
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="openModal('addDataModal')">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"/>
                            </svg>
                            Tambah Data Manual
                        </button>
                        <button class="btn btn-primary" onclick="openModal('uploadFileModal')">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z"/>
                            </svg>
                            Upload File
                        </button>
                        <button class="btn btn-success" onclick="syncAPIData()">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"/>
                            </svg>
                            Update Data dari API
                        </button>
                    </div>

                    <div class="content-card">
                        <h3>Daftar Data Strategis</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Indikator</th>
                                    <th>Periode</th>
                                    <th>Wilayah</th>
                                    <th>Nilai</th>
                                    <th>Sumber</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="dataTableBody">
                                <tr>
                                    <td>1</td>
                                    <td>Inflasi (m-to-m)</td>
                                    <td>September 2025</td>
                                    <td>NTT</td>
                                    <td>0.45%</td>
                                    <td><span class="badge badge-success">API</span></td>
                                    <td>
                                        <button class="btn btn-secondary" onclick="editData(1)">Edit</button>
                                        <button class="btn btn-danger" onclick="deleteData(1)">Hapus</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>NTP</td>
                                    <td>September 2025</td>
                                    <td>NTT</td>
                                    <td>105.23</td>
                                    <td><span class="badge badge-info">Manual</span></td>
                                    <td>
                                        <button class="btn btn-secondary" onclick="editData(2)">Edit</button>
                                        <button class="btn btn-danger" onclick="deleteData(2)">Hapus</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Visualization Configuration Page -->
                <div id="visualizationPage" class="page-section">
                    <div class="content-card">
                        <h3>Konfigurasi Visualisasi Data</h3>
                        <div class="form-row">
                            <div class="form-field">
                                <label>Pilih Indikator</label>
                                <select>
                                    <option>Inflasi (IHK)</option>
                                    <option>Nilai Tukar Petani</option>
                                    <option>Pertumbuhan Ekonomi</option>
                                    <option>IPM</option>
                                    <option>Kemiskinan</option>
                                </select>
                            </div>
                            <div class="form-field">
                                <label>Jenis Visualisasi</label>
                                <select>
                                    <option>Line Chart</option>
                                    <option>Bar Chart</option>
                                    <option>Pie Chart</option>
                                    <option>Choropleth Map</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-field">
                            <label>Interpretasi Data</label>
                            <textarea rows="4" placeholder="Masukkan interpretasi untuk membantu pengguna memahami data..."></textarea>
                        </div>
                        <div class="chart-placeholder">
                            Preview Visualisasi
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-primary">Simpan Konfigurasi</button>
                            <button class="btn btn-secondary">Reset</button>
                        </div>
                    </div>
                </div>

                <!-- User Management Page -->
                <div id="usersPage" class="page-section">
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="openModal('addUserModal')">
                            <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z"/>
                            </svg>
                            Tambah Admin Baru
                        </button>
                    </div>

                    <div class="content-card">
                        <h3>Daftar Akun Admin</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Nama</th>
                                    <th>Username</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>Admin Utama</td>
                                    <td>admin001</td>
                                    <td>admin@bpsntt.go.id</td>
                                    <td><span class="badge badge-info">Admin</span></td>
                                    <td><span class="badge badge-success">Aktif</span></td>
                                    <td>
                                        <button class="btn btn-secondary" onclick="editUser(1)">Edit</button>
                                        <button class="btn btn-primary" onclick="resetPassword(1)">Reset Password</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Admin Data</td>
                                    <td>admin002</td>
                                    <td>data@bpsntt.go.id</td>
                                    <td><span class="badge badge-info">Admin</span></td>
                                    <td><span class="badge badge-success">Aktif</span></td>
                                    <td>
                                        <button class="btn btn-secondary" onclick="editUser(2)">Edit</button>
                                        <button class="btn btn-primary" onclick="resetPassword(2)">Reset Password</button>
                                        <button class="btn btn-danger" onclick="deleteUser(2)">Hapus</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Feedback Page -->
                <div id="feedbackPage" class="page-section">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="icon icon-blue">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
                                </svg>
                            </div>
                            <h3>Total Feedback</h3>
                            <div class="value">127</div>
                        </div>
                        <div class="stat-card">
                            <div class="icon icon-green">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"/>
                                </svg>
                            </div>
                            <h3>Sudah Dibaca</h3>
                            <div class="value">89</div>
                        </div>
                        <div class="stat-card">
                            <div class="icon icon-orange">
                                <svg width="24" height="24" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"/>
                                </svg>
                            </div>
                            <h3>Belum Dibaca</h3>
                            <div class="value">38</div>
                        </div>
                    </div>

                    <div class="content-card">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; flex-wrap: wrap; gap: 15px;">
                            <h3 style="margin: 0; padding: 0; border: none;">Daftar Feedback Masuk</h3>
                            <div class="feedback-header-actions">
                                <select class="feedback-filter" onchange="filterFeedback(this.value)">
                                    <option value="all">Semua Status</option>
                                    <option value="unread">Belum Dibaca</option>
                                    <option value="read">Sudah Dibaca</option>
                                </select>
                                <button class="btn btn-danger" onclick="deleteAllFeedback()">
                                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"/>
                                    </svg>
                                    Hapus Semua
                                </button>
                            </div>
                        </div>
                        
                        <div class="feedback-table-wrapper">
                            <table class="data-table feedback-table">
                                <thead>
                                    <tr>
                                        <th>
                                            <input type="checkbox" onchange="toggleAllFeedback(this.checked)">
                                        </th>
                                        <th>Waktu</th>
                                        <th>Nama</th>
                                        <th>Email</th>
                                        <th>Instansi</th>
                                        <th>Pengalaman</th>
                                        <th>Status</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="feedbackTableBody">
                                    <tr data-id="1" class="unread">
                                        <td><input type="checkbox" class="feedback-checkbox"></td>
                                        <td>13 Okt 2025, 15:45</td>
                                        <td>Budi Santoso</td>
                                        <td><div class="feedback-text-truncate" title="budi.santoso@email.com">budi.santoso@email.com</div></td>
                                        <td>Universitas Nusa Cendana</td>
                                        <td>
                                            <div class="feedback-text-truncate" title="Website sangat informatif dan mudah digunakan. Data yang disajikan sangat membantu untuk penelitian saya.">
                                                Website sangat informatif dan mudah digunakan. Data yang disajikan sangat membantu untuk penelitian saya.
                                            </div>
                                        </td>
                                        <td><span class="badge badge-warning">Belum Dibaca</span></td>
                                        <td>
                                            <div class="feedback-actions">
                                                <button class="btn btn-secondary" onclick="viewFeedback(1)">Detail</button>
                                                <button class="btn btn-success" onclick="markAsRead(1)">Tandai Dibaca</button>
                                                <button class="btn btn-danger" onclick="deleteFeedback(1)">Hapus</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr data-id="2" class="read">
                                        <td><input type="checkbox" class="feedback-checkbox"></td>
                                        <td>13 Okt 2025, 14:20</td>
                                        <td>Maria Goreti</td>
                                        <td><div class="feedback-text-truncate" title="maria.goreti@instansi.go.id">maria.goreti@instansi.go.id</div></td>
                                        <td>Dinas Statistik Kota Kupang</td>
                                        <td>
                                            <div class="feedback-text-truncate" title="Visualisasi data sangat menarik dan interaktif. Mohon ditambahkan fitur download untuk semua grafik.">
                                                Visualisasi data sangat menarik dan interaktif. Mohon ditambahkan fitur download untuk semua grafik.
                                            </div>
                                        </td>
                                        <td><span class="badge badge-success">Sudah Dibaca</span></td>
                                        <td>
                                            <div class="feedback-actions">
                                                <button class="btn btn-secondary" onclick="viewFeedback(2)">Detail</button>
                                                <button class="btn btn-danger" onclick="deleteFeedback(2)">Hapus</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr data-id="3" class="unread">
                                        <td><input type="checkbox" class="feedback-checkbox"></td>
                                        <td>13 Okt 2025, 10:15</td>
                                        <td>Ahmad Hidayat</td>
                                        <td><div class="feedback-text-truncate" title="ahmad.hidayat@gmail.com">ahmad.hidayat@gmail.com</div></td>
                                        <td>Konsultan Independen</td>
                                        <td>
                                            <div class="feedback-text-truncate" title="Sangat terbantu dengan adanya metadata lengkap. Saran: tambahkan fitur perbandingan antar wilayah.">
                                                Sangat terbantu dengan adanya metadata lengkap. Saran: tambahkan fitur perbandingan antar wilayah.
                                            </div>
                                        </td>
                                        <td><span class="badge badge-warning">Belum Dibaca</span></td>
                                        <td>
                                            <div class="feedback-actions">
                                                <button class="btn btn-secondary" onclick="viewFeedback(3)">Detail</button>
                                                <button class="btn btn-success" onclick="markAsRead(3)">Tandai Dibaca</button>
                                                <button class="btn btn-danger" onclick="deleteFeedback(3)">Hapus</button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr data-id="4" class="read">
                                        <td><input type="checkbox" class="feedback-checkbox"></td>
                                        <td>12 Okt 2025, 16:30</td>
                                        <td>Siti Aminah</td>
                                        <td><div class="feedback-text-truncate" title="siti.aminah@perusahaan.co.id">siti.aminah@perusahaan.co.id</div></td>
                                        <td>PT. Analitika Data</td>
                                        <td>
                                            <div class="feedback-text-truncate" title="Interface sangat user-friendly. Namun perlu peningkatan kecepatan loading untuk dataset besar.">
                                                Interface sangat user-friendly. Namun perlu peningkatan kecepatan loading untuk dataset besar.
                                            </div>
                                        </td>
                                        <td><span class="badge badge-success">Sudah Dibaca</span></td>
                                        <td>
                                            <div class="feedback-actions">
                                                <button class="btn btn-secondary" onclick="viewFeedback(4)">Detail</button>
                                                <button class="btn btn-danger" onclick="deleteFeedback(4)">Hapus</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Monitoring Page -->
                <div id="monitoringPage" class="page-section">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Total Kunjungan</h3>
                            <div class="value">45,678</div>
                        </div>
                        <div class="stat-card">
                            <h3>Kunjungan Hari Ini</h3>
                            <div class="value">1,234</div>
                        </div>
                        <div class="stat-card">
                            <h3>Download Terakhir</h3>
                            <div class="value">567</div>
                        </div>
                        <div class="stat-card">
                            <h3>Feedback Masuk</h3>
                            <div class="value">23</div>
                        </div>
                    </div>

                    <div class="content-card">
                        <h3>Grafik Kunjungan</h3>
                        <div class="chart-placeholder">
                            Grafik Kunjungan Per Hari (7 Hari Terakhir)
                        </div>
                    </div>

                    <div class="content-card">
                        <h3>Log Aktivitas Terbaru</h3>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Waktu</th>
                                    <th>User</th>
                                    <th>Aktivitas</th>
                                    <th>Detail</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>13 Okt 2025, 14:30</td>
                                    <td>admin001</td>
                                    <td>Update Data</td>
                                    <td>Sinkronisasi data dari API BPS</td>
                                </tr>
                                <tr>
                                    <td>13 Okt 2025, 13:15</td>
                                    <td>admin002</td>
                                    <td>Tambah Data Manual</td>
                                    <td>Input data Pertumbuhan Ekonomi Q3 2025</td>
                                </tr>
                                <tr>
                                    <td>13 Okt 2025, 10:45</td>
                                    <td>admin001</td>
                                    <td>Konfigurasi Visualisasi</td>
                                    <td>Ubah visualisasi IPM dari bar chart ke line chart</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Add Data Modal -->
    <div id="addDataModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Tambah Data Manual</h3>
                <button class="close-modal" onclick="closeModal('addDataModal')">&times;</button>
            </div>
            <form onsubmit="submitAddData(event)">
                <div class="form-row">
                    <div class="form-field">
                        <label>Indikator</label>
                        <select required>
                            <option value="">Pilih Indikator</option>
                            <option>Inflasi</option>
                            <option>Nilai Tukar Petani</option>
                            <option>Pertumbuhan Ekonomi</option>
                            <option>IPM</option>
                            <option>Kemiskinan</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>Periode</label>
                        <input type="month" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label>Wilayah</label>
                        <select required>
                            <option value="">Pilih Wilayah</option>
                            <option>NTT</option>
                            <option>Kab. Kupang</option>
                            <option>Kota Kupang</option>
                        </select>
                    </div>
                    <div class="form-field">
                        <label>Nilai</label>
                        <input type="number" step="0.01" required placeholder="Masukkan nilai">
                    </div>
                </div>
                <div class="form-field">
                    <label>Keterangan (Opsional)</label>
                    <textarea rows="3" placeholder="Tambahkan keterangan jika diperlukan"></textarea>
                </div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Simpan Data</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addDataModal')">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Upload File Modal -->
    <div id="uploadFileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload File Data</h3>
                <button class="close-modal" onclick="closeModal('uploadFileModal')">&times;</button>
            </div>
            <form onsubmit="submitUploadFile(event)">
                <div class="file-upload" onclick="document.getElementById('fileInput').click()">
                    <input type="file" id="fileInput" accept=".xlsx,.xls,.csv">
                    <svg width="48" height="48" fill="currentColor" viewBox="0 0 20 20" style="color: #003D7A; margin-bottom: 10px;">
                        <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z"/>
                    </svg>
                    <p style="color: #666; margin-bottom: 5px;">Klik untuk memilih file</p>
                    <p style="color: #999; font-size: 12px;">Format: Excel (.xlsx, .xls) atau CSV (.csv)</p>
                </div>
                <div id="fileName" style="margin: 15px 0; color: #003D7A; font-weight: 500;"></div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Upload & Proses</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('uploadFileModal')">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add User Modal -->
    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Tambah Admin Baru</h3>
                <button class="close-modal" onclick="closeModal('addUserModal')">&times;</button>
            </div>
            <form onsubmit="submitAddUser(event)">
                <div class="form-row">
                    <div class="form-field">
                        <label>Nama Lengkap</label>
                        <input type="text" required placeholder="Masukkan nama lengkap">
                    </div>
                    <div class="form-field">
                        <label>Username</label>
                        <input type="text" required placeholder="Masukkan username">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label>Email</label>
                        <input type="email" required placeholder="Masukkan email">
                    </div>
                    <div class="form-field">
                        <label>Role</label>
                        <select required>
                            <option value="">Pilih Role</option>
                            <option>Admin</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label>Password</label>
                        <input type="password" required placeholder="Masukkan password">
                    </div>
                    <div class="form-field">
                        <label>Konfirmasi Password</label>
                        <input type="password" required placeholder="Konfirmasi password">
                    </div>
                </div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">Tambah Admin</button>
                    <button type="button" class="btn btn-secondary" onclick="closeModal('addUserModal')">Batal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- View Feedback Modal -->
    <div id="viewFeedbackModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Detail Feedback</h3>
                <button class="close-modal" onclick="closeModal('viewFeedbackModal')">&times;</button>
            </div>
            <div id="feedbackDetailContent">
                <div class="form-field" style="margin-bottom: 20px;">
                    <label style="color: #666; font-size: 13px; font-weight: 600;">WAKTU</label>
                    <p id="detailWaktu" style="margin-top: 5px; font-size: 14px;">-</p>
                </div>
                <div class="form-row">
                    <div class="form-field">
                        <label style="color: #666; font-size: 13px; font-weight: 600;">NAMA</label>
                        <p id="detailNama" style="margin-top: 5px; font-size: 14px;">-</p>
                    </div>
                    <div class="form-field">
                        <label style="color: #666; font-size: 13px; font-weight: 600;">EMAIL</label>
                        <p id="detailEmail" style="margin-top: 5px; font-size: 14px;">-</p>
                    </div>
                </div>
                <div class="form-field" style="margin-bottom: 20px;">
                    <label style="color: #666; font-size: 13px; font-weight: 600;">INSTANSI</label>
                    <p id="detailInstansi" style="margin-top: 5px; font-size: 14px;">-</p>
                </div>
                <div class="form-field">
                    <label style="color: #666; font-size: 13px; font-weight: 600;">PENGALAMAN</label>
                    <div id="detailPengalaman" style="margin-top: 10px; padding: 15px; background: #f8f9fa; border-radius: 8px; line-height: 1.6; font-size: 14px;">-</div>
                </div>
            </div>
            <div class="btn-group" style="margin-top: 25px;">
                <button class="btn btn-success" onclick="markAsReadFromModal()">Tandai Sudah Dibaca</button>
                <button class="btn btn-danger" onclick="deleteFeedbackFromModal()">Hapus Feedback</button>
                <button class="btn btn-secondary" onclick="closeModal('viewFeedbackModal')">Tutup</button>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let isLoggedIn = true; // Set to true since we're bypassing login

        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                // Update active nav item
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');

                // Get page name
                const pageName = this.dataset.page;
                
                // Update page title
                const titles = {
                    'dashboard': 'Dashboard',
                    'data': 'Kelola Data',
                    'visualization': 'Konfigurasi Visualisasi',
                    'users': 'Kelola Akun',
                    'feedback': 'Kelola Feedback',
                    'monitoring': 'Monitoring Aktivitas'
                };
                document.getElementById('pageTitle').textContent = titles[pageName];

                // Show/hide pages
                document.querySelectorAll('.page-section').forEach(page => page.classList.remove('active'));
                document.getElementById(pageName + 'Page').classList.add('active');
            });
        });

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Close modal when clicking outside
        document.querySelectorAll('.modal').forEach(modal => {
            modal.addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.remove('active');
                }
            });
        });

        // Notification function
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = 'notification ' + type;
            notification.style.display = 'block';

            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Sync API Data
        function syncAPIData() {
            if (confirm('Apakah Anda yakin ingin melakukan sinkronisasi data dari API BPS?')) {
                showNotification('Sedang melakukan sinkronisasi data...', 'info');
                
                // Simulate API call
                setTimeout(() => {
                    showNotification('Data berhasil diperbarui dari API BPS!', 'success');
                }, 2000);
            }
        }

        // Add Data Form Submit
        function submitAddData(e) {
            e.preventDefault();
            showNotification('Data berhasil ditambahkan!', 'success');
            closeModal('addDataModal');
            e.target.reset();
        }

        // Upload File
        document.getElementById('fileInput').addEventListener('change', function(e) {
            const fileName = e.target.files[0]?.name;
            if (fileName) {
                document.getElementById('fileName').textContent = 'File terpilih: ' + fileName;
            }
        });

        function submitUploadFile(e) {
            e.preventDefault();
            const fileInput = document.getElementById('fileInput');
            
            if (!fileInput.files.length) {
                showNotification('Silakan pilih file terlebih dahulu!', 'error');
                return;
            }

            showNotification('Sedang memproses file...', 'info');
            
            // Simulate file upload
            setTimeout(() => {
                showNotification('File berhasil diunggah dan diproses!', 'success');
                closeModal('uploadFileModal');
                fileInput.value = '';
                document.getElementById('fileName').textContent = '';
            }, 2000);
        }

        // Edit Data
        function editData(id) {
            showNotification('Fitur edit data sedang dalam pengembangan.', 'info');
        }

        // Delete Data
        function deleteData(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data ini?')) {
                showNotification('Data berhasil dihapus!', 'success');
            }
        }

        // Add User Form Submit
        function submitAddUser(e) {
            e.preventDefault();
            showNotification('Admin baru berhasil ditambahkan!', 'success');
            closeModal('addUserModal');
            e.target.reset();
        }

        // Edit User
        function editUser(id) {
            showNotification('Fitur edit user sedang dalam pengembangan.', 'info');
        }

        // Reset Password
        function resetPassword(id) {
            if (confirm('Apakah Anda yakin ingin mereset password user ini?')) {
                showNotification('Password berhasil direset! Email telah dikirim ke user.', 'success');
            }
        }

        // Delete User
        function deleteUser(id) {
            if (confirm('Apakah Anda yakin ingin menghapus admin ini? Tindakan ini tidak dapat dibatalkan.')) {
                showNotification('Admin berhasil dihapus!', 'success');
            }
        }

        // Feedback Management Functions
        let currentFeedbackId = null;

        // Sample feedback data
        const feedbackData = {
            1: {
                waktu: '13 Okt 2025, 15:45',
                nama: 'Budi Santoso',
                email: 'budi.santoso@email.com',
                instansi: 'Universitas Nusa Cendana',
                pengalaman: 'Website sangat informatif dan mudah digunakan. Data yang disajikan sangat membantu untuk penelitian saya. Saya harap ke depannya bisa ditambahkan fitur export data dalam berbagai format seperti Excel dan JSON. Terima kasih BPS NTT!',
                status: 'unread'
            },
            2: {
                waktu: '13 Okt 2025, 14:20',
                nama: 'Maria Goreti',
                email: 'maria.goreti@instansi.go.id',
                instansi: 'Dinas Statistik Kota Kupang',
                pengalaman: 'Visualisasi data sangat menarik dan interaktif. Mohon ditambahkan fitur download untuk semua grafik. Akan sangat membantu untuk keperluan presentasi di kantor.',
                status: 'read'
            },
            3: {
                waktu: '13 Okt 2025, 10:15',
                nama: 'Ahmad Hidayat',
                email: 'ahmad.hidayat@gmail.com',
                instansi: 'Konsultan Independen',
                pengalaman: 'Sangat terbantu dengan adanya metadata lengkap. Saran: tambahkan fitur perbandingan antar wilayah secara side-by-side untuk memudahkan analisis komparatif.',
                status: 'unread'
            },
            4: {
                waktu: '12 Okt 2025, 16:30',
                nama: 'Siti Aminah',
                email: 'siti.aminah@perusahaan.co.id',
                instansi: 'PT. Analitika Data',
                pengalaman: 'Interface sangat user-friendly. Namun perlu peningkatan kecepatan loading untuk dataset besar. Overall pengalaman sangat positif.',
                status: 'read'
            }
        };

        function viewFeedback(id) {
            currentFeedbackId = id;
            const feedback = feedbackData[id];
            
            if (feedback) {
                document.getElementById('detailWaktu').textContent = feedback.waktu;
                document.getElementById('detailNama').textContent = feedback.nama;
                document.getElementById('detailEmail').textContent = feedback.email;
                document.getElementById('detailInstansi').textContent = feedback.instansi;
                document.getElementById('detailPengalaman').textContent = feedback.pengalaman;
                
                openModal('viewFeedbackModal');
            }
        }

        function markAsRead(id) {
            const row = document.querySelector(`tr[data-id="${id}"]`);
            if (row) {
                row.classList.remove('unread');
                row.classList.add('read');
                const badge = row.querySelector('.badge');
                badge.className = 'badge badge-success';
                badge.textContent = 'Sudah Dibaca';
                
                // Remove "Tandai Dibaca" button
                const markButton = row.querySelector('.btn-success');
                if (markButton) {
                    markButton.remove();
                }
                
                feedbackData[id].status = 'read';
                showNotification('Feedback berhasil ditandai sebagai sudah dibaca!', 'success');
            }
        }

        function markAsReadFromModal() {
            if (currentFeedbackId) {
                markAsRead(currentFeedbackId);
                closeModal('viewFeedbackModal');
            }
        }

        function deleteFeedback(id) {
            if (confirm('Apakah Anda yakin ingin menghapus feedback ini?')) {
                const row = document.querySelector(`tr[data-id="${id}"]`);
                if (row) {
                    row.remove();
                    delete feedbackData[id];
                    showNotification('Feedback berhasil dihapus!', 'success');
                }
            }
        }

        function deleteFeedbackFromModal() {
            if (currentFeedbackId) {
                deleteFeedback(currentFeedbackId);
                closeModal('viewFeedbackModal');
                currentFeedbackId = null;
            }
        }

        function filterFeedback(filter) {
            const rows = document.querySelectorAll('#feedbackTableBody tr');
            
            rows.forEach(row => {
                if (filter === 'all') {
                    row.style.display = '';
                } else if (filter === 'unread' && row.classList.contains('unread')) {
                    row.style.display = '';
                } else if (filter === 'read' && row.classList.contains('read')) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        function toggleAllFeedback(checked) {
            const checkboxes = document.querySelectorAll('.feedback-checkbox');
            checkboxes.forEach(cb => cb.checked = checked);
        }

        function deleteAllFeedback() {
            const checkedBoxes = document.querySelectorAll('.feedback-checkbox:checked');
            
            if (checkedBoxes.length === 0) {
                showNotification('Pilih feedback yang ingin dihapus!', 'error');
                return;
            }
            
            if (confirm(`Apakah Anda yakin ingin menghapus ${checkedBoxes.length} feedback yang dipilih?`)) {
                checkedBoxes.forEach(checkbox => {
                    const row = checkbox.closest('tr');
                    row.remove();
                });
                showNotification(`${checkedBoxes.length} feedback berhasil dihapus!`, 'success');
            }
        }

        // Logout Function
        function handleLogout() {
            if (confirm('Apakah Anda yakin ingin keluar dari dashboard admin?')) {
                // Clear any stored session data
                sessionStorage.clear();
                localStorage.clear();
                
                // Show notification
                showNotification('Anda berhasil keluar. Sampai jumpa!', 'success');
                
                // Redirect to login page after a short delay
                setTimeout(() => {
                    window.location.href = 'masuk.html';
                }, 1000);
            }
        }
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Dashboard Admin BPS NTT initialized');
        });
    </script>
</body>
</html>